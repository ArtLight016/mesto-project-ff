(()=>{"use strict";function e(e,n,o,r){var c=r.querySelector(".card").cloneNode(!0),p=c.querySelector(".card__image");return p.src=e.link,p.alt=e.alt,c.querySelector(".card__title").textContent=e.name,c.querySelector(".card__delete-button").addEventListener("click",t),c.querySelector(".card__like-button").addEventListener("click",n),p.addEventListener("click",o),c}function t(e){e.target.closest(".card").remove()}function n(e){e.target.classList.toggle("card__like-button_is-active")}function o(e){if("Escape"===e.key){var t=document.querySelector(".popup_is-opened");t&&c(t)}}function r(e){e.classList.add("popup_is-opened"),document.addEventListener("keydown",o)}function c(e){e.classList.contains("popup_is-opened")&&(e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",o))}var p=document.querySelector('form[name="new-place"]'),a=document.querySelector(".popup__input_type_card-name"),u=document.querySelector(".popup__input_type_url"),d=document.querySelector("#card-template").content,l=document.querySelector(".places__list"),i=document.querySelector(".profile__edit-button"),s=document.querySelector(".popup_type_edit"),_=document.querySelector(".profile__add-button"),m=document.querySelector(".popup_type_new-card"),y=[document.querySelector(".popup_type_edit"),document.querySelector(".popup_type_new-card"),document.querySelector(".popup_type_image")],v=document.querySelector('form[name="edit-profile"]'),f=document.querySelector(".popup__input_type_name"),k=document.querySelector(".popup__input_type_description"),q=document.querySelector(".profile__title"),S=document.querySelector(".profile__description"),g=document.querySelector(".popup_type_image"),L=g.querySelector(".popup__image"),E=g.querySelector(".popup__caption");function h(e){L.src=e.target.src,L.alt=e.target.alt,E.textContent=e.target.alt,r(g)}[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg",alt:"Фото гористой местности в селе Архыз"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg",alt:"Фото реки в лесу Челябинской области"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg",alt:"Фото жилого района города Иваново"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg",alt:"Фото подножья горы на Камчатке"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg",alt:"Фото железной дорогги в лесу Холмогорского района"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg",alt:"Фото холмов у озера Байкал"}].forEach((function(t){var o=e(t,n,h,d);l.append(o)})),i.addEventListener("click",(function(){f.value=q.textContent,k.value=S.textContent,r(s)})),_.addEventListener("click",(function(){r(m)})),y.forEach((function(e){e.addEventListener("click",(function(t){(t.target.classList.contains("popup__close")||t.target.classList.contains("popup"))&&c(e)}))})),v.addEventListener("submit",(function(e){e.preventDefault(),q.textContent=f.value,S.textContent=k.value,c(s)})),p.addEventListener("submit",(function(t){t.preventDefault();var o=e({name:a.value,link:u.value,alt:a.value},n,h,d);l.prepend(o),p.reset(),c(m)}))})();